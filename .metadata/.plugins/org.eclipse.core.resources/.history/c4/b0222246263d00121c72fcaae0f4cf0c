package serpis.psp;

import java.io.*;
import java.net.*;
import java.util.*;

public class HttpServer {

	/**
	 * @param args
	 */
	public static void main(String[] args) throws IOException{
		int port = 8080;
		
		ServerSocket serverSocket = new ServerSocket(port);
		
		Socket socket = serverSocket.accept();
		
		Scanner scanner = new Scanner(socket.getInputStream());
	
		while (scanner.hasNextLine()){//devuelve true si hay otra linea de entrada en el scanner.
			//Leemos cada linea.
			String line = scanner.nextLine();//devuelve la linea
			System.out.println(line);
			if(line.equals(""))
				break;
		}
		
		/*El servidor tiene que devolver un html cuando el navegador se lo consulte, y tienen que decirnos
		 * http/1.1 200 ok 
		 * <cr><lf>
		 * 
		 * y si no se encuentra la pagina un:
		 * http/1.1 404 not found
		 * <cr> <lf>
		 * 
		 */
		PrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);
		printWriter.println("HTTP/1.0 404 NOT FOUND");
		printWriter.print("\r\n");
		
		socket.close();	
		serverSocket.close();

	}
}
